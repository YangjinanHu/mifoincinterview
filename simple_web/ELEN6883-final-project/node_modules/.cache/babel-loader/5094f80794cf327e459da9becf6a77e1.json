{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.weiToHumanReadableString = void 0;\n\nconst ethereumjs_util_1 = require(\"ethereumjs-util\");\n/**\n * This function turns a wei value in a human readable string. It shows values\n * in ETH, gwei or wei, depending on how large it is.\n *\n * It never show more than 99999 wei or gwei, moving to the larger denominator\n * when necessary.\n *\n * It never shows more than 4 decimal digits. Adapting denominator and\n * truncating as necessary.\n */\n\n\nfunction weiToHumanReadableString(wei) {\n  if (typeof wei === \"number\") {\n    wei = new ethereumjs_util_1.BN(wei);\n  }\n\n  if (wei.eqn(0)) {\n    return \"0 ETH\";\n  }\n\n  if (wei.lt(new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(5)))) {\n    return `${wei} wei`;\n  }\n\n  if (wei.lt(new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(14)))) {\n    return `${toDecimalString(wei, 9, 4)} gwei`;\n  }\n\n  return `${toDecimalString(wei, 18, 4)} ETH`;\n}\n\nexports.weiToHumanReadableString = weiToHumanReadableString;\n\nfunction toDecimalString(value, digitsToInteger) {\n  let decimalDigits = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 4;\n  const oneUnit = new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(digitsToInteger));\n  const oneDecimal = new ethereumjs_util_1.BN(10).pow(new ethereumjs_util_1.BN(digitsToInteger - decimalDigits));\n  const integer = value.div(oneUnit);\n  const decimals = value.mod(oneUnit).div(oneDecimal);\n\n  if (decimals.eqn(0)) {\n    return integer.toString(10);\n  }\n\n  const decimalsString = removeRightZeros(decimals.toString(10).padStart(decimalDigits, \"0\"));\n  return `${integer.toString(10)}.${decimalsString}`;\n}\n\nfunction removeRightZeros(str) {\n  let zeros = 0;\n\n  for (let i = str.length - 1; i >= 0; i--) {\n    if (str.charAt(i) !== \"0\") {\n      break;\n    }\n\n    zeros += 1;\n  }\n\n  return str.substr(0, str.length - zeros);\n}","map":{"version":3,"mappings":";;;;;;;AAAA;AAEA;;;;;;;;;;;;AAUA,SAAgBA,wBAAhB,CAAyCC,GAAzC,EAAyD;AACvD,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3BA,OAAG,GAAG,IAAIC,oBAAJ,CAAOD,GAAP,CAAN;AACD;;AAED,MAAIA,GAAG,CAACE,GAAJ,CAAQ,CAAR,CAAJ,EAAgB;AACd,WAAO,OAAP;AACD;;AAED,MAAIF,GAAG,CAACG,EAAJ,CAAO,IAAIF,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAO,CAAP,CAAf,CAAP,CAAJ,EAAuC;AACrC,WAAO,GAAGD,GAAG,MAAb;AACD;;AAED,MAAIA,GAAG,CAACG,EAAJ,CAAO,IAAIF,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAO,EAAP,CAAf,CAAP,CAAJ,EAAwC;AACtC,WAAO,GAAGI,eAAe,CAACL,GAAD,EAAM,CAAN,EAAS,CAAT,CAAW,OAApC;AACD;;AAED,SAAO,GAAGK,eAAe,CAACL,GAAD,EAAM,EAAN,EAAU,CAAV,CAAY,MAArC;AACD;;AAlBDM;;AAoBA,SAASD,eAAT,CACEE,KADF,EAEEC,eAFF,EAG2B;AAAA,MAAzBC,aAAyB,uEAAD,CAAC;AAEzB,QAAMC,OAAO,GAAG,IAAIT,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAOO,eAAP,CAAf,CAAhB;AACA,QAAMG,UAAU,GAAG,IAAIV,oBAAJ,CAAO,EAAP,EAAWG,GAAX,CAAe,IAAIH,oBAAJ,CAAOO,eAAe,GAAGC,aAAzB,CAAf,CAAnB;AAEA,QAAMG,OAAO,GAAGL,KAAK,CAACM,GAAN,CAAUH,OAAV,CAAhB;AAEA,QAAMI,QAAQ,GAAGP,KAAK,CAACQ,GAAN,CAAUL,OAAV,EAAmBG,GAAnB,CAAuBF,UAAvB,CAAjB;;AACA,MAAIG,QAAQ,CAACZ,GAAT,CAAa,CAAb,CAAJ,EAAqB;AACnB,WAAOU,OAAO,CAACI,QAAR,CAAiB,EAAjB,CAAP;AACD;;AAED,QAAMC,cAAc,GAAGC,gBAAgB,CACrCJ,QAAQ,CAACE,QAAT,CAAkB,EAAlB,EAAsBG,QAAtB,CAA+BV,aAA/B,EAA8C,GAA9C,CADqC,CAAvC;AAIA,SAAO,GAAGG,OAAO,CAACI,QAAR,CAAiB,EAAjB,CAAoB,IAAIC,cAAc,EAAhD;AACD;;AAED,SAASC,gBAAT,CAA0BE,GAA1B,EAAqC;AACnC,MAAIC,KAAK,GAAG,CAAZ;;AAEA,OAAK,IAAIC,CAAC,GAAGF,GAAG,CAACG,MAAJ,GAAa,CAA1B,EAA6BD,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACxC,QAAIF,GAAG,CAACI,MAAJ,CAAWF,CAAX,MAAkB,GAAtB,EAA2B;AACzB;AACD;;AAEDD,SAAK,IAAI,CAAT;AACD;;AAED,SAAOD,GAAG,CAACK,MAAJ,CAAW,CAAX,EAAcL,GAAG,CAACG,MAAJ,GAAaF,KAA3B,CAAP;AACD","names":["weiToHumanReadableString","wei","ethereumjs_util_1","eqn","lt","pow","toDecimalString","exports","value","digitsToInteger","decimalDigits","oneUnit","oneDecimal","integer","div","decimals","mod","toString","decimalsString","removeRightZeros","padStart","str","zeros","i","length","charAt","substr"],"sources":["/Users/huyangjinan/Columbia/Blockchain/FinalProject/ELEN6883-final-project/node_modules/hardhat/src/internal/util/wei-values.ts"],"sourcesContent":["import { BN } from \"ethereumjs-util\";\n\n/**\n * This function turns a wei value in a human readable string. It shows values\n * in ETH, gwei or wei, depending on how large it is.\n *\n * It never show more than 99999 wei or gwei, moving to the larger denominator\n * when necessary.\n *\n * It never shows more than 4 decimal digits. Adapting denominator and\n * truncating as necessary.\n */\nexport function weiToHumanReadableString(wei: BN | number): string {\n  if (typeof wei === \"number\") {\n    wei = new BN(wei);\n  }\n\n  if (wei.eqn(0)) {\n    return \"0 ETH\";\n  }\n\n  if (wei.lt(new BN(10).pow(new BN(5)))) {\n    return `${wei} wei`;\n  }\n\n  if (wei.lt(new BN(10).pow(new BN(14)))) {\n    return `${toDecimalString(wei, 9, 4)} gwei`;\n  }\n\n  return `${toDecimalString(wei, 18, 4)} ETH`;\n}\n\nfunction toDecimalString(\n  value: BN,\n  digitsToInteger: number,\n  decimalDigits: number = 4\n): string {\n  const oneUnit = new BN(10).pow(new BN(digitsToInteger));\n  const oneDecimal = new BN(10).pow(new BN(digitsToInteger - decimalDigits));\n\n  const integer = value.div(oneUnit);\n\n  const decimals = value.mod(oneUnit).div(oneDecimal);\n  if (decimals.eqn(0)) {\n    return integer.toString(10);\n  }\n\n  const decimalsString = removeRightZeros(\n    decimals.toString(10).padStart(decimalDigits, \"0\")\n  );\n\n  return `${integer.toString(10)}.${decimalsString}`;\n}\n\nfunction removeRightZeros(str: string): string {\n  let zeros = 0;\n\n  for (let i = str.length - 1; i >= 0; i--) {\n    if (str.charAt(i) !== \"0\") {\n      break;\n    }\n\n    zeros += 1;\n  }\n\n  return str.substr(0, str.length - zeros);\n}\n"]},"metadata":{},"sourceType":"script"}